/*! WP User Manager - v2.0.0
 * http://wpusermanager.com
 * Copyright (c) 2018; * Licensed GPLv2+ */
!function(a,b){"use strict";function c(a){if(!a)return!1;var b=[];return wpumCustomizeControls.mergeTags.forEach(function(c){b.push({text:c.name,onclick:function(){a.insertContent("{"+c.tag+"}")}})}),b}a.customize.bind("ready",function(){var d=b("#wpum-email-editor-btn"),e=b("#wpum-editor-window"),f=d.find("span.dashicons"),g=!1,h=!1;e.appendTo(".wp-full-overlay"),b(".wp-full-overlay").find("#wpum-editor-window").remove(),d.click(function(d){var i=b(d.currentTarget);!0===h&&a.editor.remove("wpum-mail-content-editor"),h=!h,i.find("span:not(.dashicons)").text(function(a,b){return b===wpumCustomizeControls.labels.open?wpumCustomizeControls.labels.close:wpumCustomizeControls.labels.open}),!0===h?f.removeClass("dashicons-edit").addClass("dashicons-hidden"):f.removeClass("dashicons-hidden").addClass("dashicons-edit"),e.toggleClass("is-active"),!1===g&&b(document).on("tinymce-editor-setup",function(a,b){b.settings.toolbar1+=",wpumEmailTags",b.addButton("wpumEmailTags",{text:wpumCustomizeControls.labels.addMerge,icon:!1,type:"menubutton",tooltip:wpumCustomizeControls.labels.addMergeTooltip,menu:c(b)}),g=!0}),a.editor.initialize("wpum-mail-content-editor")})})}(window.wp,jQuery);